<!doctype html>  
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>NxtTurn ‚Ä¢ Institutions (Filters Only)</title>
  <script src="https://cdn.tailwindcss.com"></script>

  
<!-- Font Awesome v6 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">


  <script>

    tailwind.config = {
    darkMode: 'class',
    theme: {
      extend: {
        fontFamily: { sans: ['Inter', 'sans-serif'] },
        colors: {
          brand:{50:'#eef5ff',100:'#e0edff',200:'#cfe0ff',300:'#a8cbff',400:'#7fb0ff',500:'#4f91ff',600:'#2f78f0',700:'#1d5fde',800:'#1a4bb8',900:'#1a4090'},
          ink:{50:'#f8fafc',100:'#f1f5f9',200:'#e2e8f0',300:'#cbd5e1',400:'#94a3b8',500:'#64748b',600:'#475569',700:'#334155',800:'#1e293b',900:'#0f172a'},
          explore: { DEFAULT: '#8B5CF6', light: '#EDE9FE' },
          seekers: { DEFAULT: '#EC4899', light: '#FCE7F3' },
          exams: { DEFAULT: '#10B981', light: '#D1FAE5' },
          network: { DEFAULT: '#F59E0B', light: '#FEF3C7' },
          research: { DEFAULT: '#3B82F6', light: '#DBEAFE' },
          messages: { DEFAULT: '#EF4444', light: '#FEE2E2' },
          notifications: { DEFAULT: '#6366F1', light: '#E0E7FF' }
        },
        boxShadow:{
          soft: '0 6px 20px rgba(2,6,23,.08)',
          'soft-lg': '0 10px 30px rgba(2,6,23,.12)',
          'inner-brand': 'inset 0 2px 4px 0 rgba(79, 145, 255, 0.15)'
        },
        animation: {
          'pulse-soft': 'pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          'bounce-subtle': 'bounce-subtle 1s infinite',
        },
        keyframes: {
          'pulse-soft': { '0%,100%': {opacity:1}, '50%': {opacity: .85} },
          'bounce-subtle': { '0%,100%': {transform:'translateY(0)'}, '50%': {transform:'translateY(-3px)'} }
        }
      }
    }
  }

    
  </script>
  <style>

    *{ box-sizing:border-box }
  body{ font-family:'Inter',sans-serif; font-weight:400 }

  .nt-glass{ background:rgba(255,255,255,.92); backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px) }

  /* ===== Icon weight tweaks ===== */
  :root{
    --icon-sm: 22px;
    --icon-lg: 24px;
    --svg-stroke: 2.2;
  }
  .nav-btn{ padding:.5rem; border-radius:10px; transition:all .2s ease }
  .nav-btn:hover{ background:rgba(207,224,255,.3); transform:translateY(-1px) }
  .nav-btn.active{ background:rgba(207,224,255,.4) }
  .nav-btn .icon{ transition:all .2s ease }

  .icon svg, .icon path, .icon circle, .icon line, .icon polyline, .icon rect { stroke-width: var(--svg-stroke) !important; }

  .fa-solid.icon-fa{
    font-size: calc(var(--icon-sm) + 1px);
    text-shadow: 0 .2px 0 currentColor;
  }
  @media (min-width:640px){
    .fa-solid.icon-fa{ font-size: calc(var(--icon-lg) + 1px) }
  }

  .nav-btn:hover .icon, .nav-btn.active .icon{ transform:scale(1.08) }

  .nav-label{
    font-size:11px; line-height:1rem; color:#64748b; white-space:nowrap;
    transition:all .2s ease; font-weight:500; margin-top:2px;
  }
  .nav-btn:hover .nav-label{ color:#0f172a }
  .nav-btn.active .nav-label{ font-weight:600 }

  .nav-btn .icon{
    width:var(--icon-sm); height:var(--icon-sm); display:inline-flex; align-items:center; justify-content:center;
    line-height:1; vertical-align:middle;
  }
  @media (min-width:640px){
    .nav-btn .icon{ width:var(--icon-lg); height:var(--icon-lg) }
  }

  .nt-scroll::-webkit-scrollbar{ width:6px; height:6px }
  .nt-scroll::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:999px }
  .nt-scroll:hover::-webkit-scrollbar-thumb{ background:#94a3b8 }
  .no-scrollbar::-webkit-scrollbar{ display:none }
  .no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none }

  .toggle{ width:40px; height:22px; border-radius:9999px; background:#cbd5e1; position:relative; transition:background .2s ease }
  .toggle::after{
    content:''; position:absolute; top:3px; left:3px; width:16px; height:16px; border-radius:9999px; background:#fff;
    transition:transform .2s ease; box-shadow:0 1px 3px rgba(0,0,0,.2)
  }
  input[type="checkbox"].toggle-input:checked + .toggle{ background:#2f78f0 }
  input[type="checkbox"].toggle-input:checked + .toggle::after{ transform:translateX(18px) }

  .dark body{ background:linear-gradient(to bottom,#0b1220,#0b1220); color:#e2e8f0 }
  .dark .nt-glass{ background:rgba(15,23,42,.88); border-bottom-color:rgba(30,41,59,.6) }
  .dark #profileMenu, .dark .menu-panel{ background:#0f172a; border-color:#1e293b }
  .dark .nav-btn .icon{ color:#94a3b8 }
  .dark .nav-btn:hover .nav-label{ color:#e2e8f0 }
  .dark .nav-btn:hover{ background:rgba(30,41,59,.4) }
  .dark .nav-btn.active{ background:rgba(30,41,59,.6) }
  .dark input[type="search"]{ background:rgba(2,6,23,.4)!important; color:#cbd5e1!important; border-color:#334155!important }

  .profile-ico{ font-size:16px; color:#475569; transition:all .2s ease }
  #profileMenu a:hover .profile-ico, #profileMenu button:hover .profile-ico{ color:#2f78f0; transform:translateY(-1px) }
  .dark .profile-ico{ color:#94a3b8 }
  .dark #profileMenu a:hover .profile-ico, .dark #profileMenu button:hover .profile-ico{ color:#93c5fd }

  /* ===== fixed navbar + no horizontal icon scroll ===== */
  :root{ --nav-h:68px }
  html,body{ max-width:100%; overflow-x:hidden }
  body{ padding-top:var(--nav-h) }

  .nav-scroller{ overflow-x:visible!important }
  .nav-scroller>ul{ width:100%!important; max-width:100%!important; flex-wrap:wrap!important }

  header, header.nt-glass, header nav{ overflow:visible!important }

  .menu-panel{
    box-shadow:0 20px 40px rgba(2,6,23,.15);
    border:1px solid #e2e8f0;
    transform-origin:top center;
  }
  .menu-item{
    display:flex; align-items:center; gap:.65rem;
    padding:.75rem 1rem; transition:all .15s ease;
  }
  .menu-item .menu-ico{
    width:18px; min-width:18px; text-align:center; color:#64748b;
  }
  .menu-item:hover{ background:#f5f8ff }
  .menu-item:hover .menu-ico{ color:#2f78f0 }

  /* Profile dropdown */
  #profileMenu{
    box-shadow:0 20px 40px rgba(2,6,23,.15);
    border:1px solid #e2e8f0;
    transform-origin:top right;
  }

  .search-container{ position:relative; transition:all .3s ease }
  .search-container:focus-within{ transform:translateY(-1px) }

  .notification-badge{
    position:absolute; top:4px; right:4px; min-width:18px; height:18px; padding:0 4px;
    background:#EF4444; color:#fff; border-radius:9px; font-size:11px; font-weight:700;
    display:flex; align-items:center; justify-content:center; border:2px solid #fff; animation:pulse-soft 2s infinite;
  }
  .dark .notification-badge{ border-color:#0f172a }

  .icon-explore{ color:#8B5CF6 }
  .icon-seekers{ color:#EC4899 }
  .icon-network{ color:#F59E0B }
  .icon-messages{ color:#3dcb38 }
  .icon-notifications{ color:#6366F1 }

  .nav-btn:hover .icon-explore{ color:#7C3AED }
  .nav-btn:hover .icon-seekers{ color:#DB2777 }
  .nav-btn:hover .icon-network{ color:#D97706 }
  .nav-btn:hover .icon-messages{ color:#48ee42  }
  .nav-btn:hover .icon-notifications{ color:#4F46E5 }

  .nav-label-explore,
  .nav-label-seekers,
  .nav-label-network,
  .nav-label-messages,
  .nav-label-notifications{ color:black }

  .nav-btn:hover .nav-label-explore{ color:#7C3AED }
  .nav-btn:hover .nav-label-seekers{ color:#DB2777 }
  .nav-btn:hover .nav-label-network{ color:#D97706 }
  .nav-btn:hover .nav-label-messages{ color:#39ca34 }
  .nav-btn:hover .nav-label-notifications{ color:#4F46E5 }

  .nav-btn.active .nav-label-explore{ color:#7C3AED }
  .nav-btn.active .nav-label-seekers{ color:#DB2777 }
  .nav-btn.active .nav-label-network{ color:#D97706 }
  .nav-btn.active .nav-label-messages{ color:#39ca34  }
  .nav-btn.active .nav-label-notifications{ color:#4F46E5 }



    html,body{height:100%}
    body{background:#f8fafc; overflow:hidden;}

    .nt-scroll{scrollbar-width:none;-ms-overflow-style:none}
    .nt-scroll::-webkit-scrollbar{display:none}

    details summary::-webkit-details-marker{display:none}
    details.nt-group[open] > summary .nt-chevron{transform:rotate(90deg)}
    .nt-chevron{transition:transform .18s ease}
    .nt-group summary:hover{filter:brightness(0.98)}

    .page-zoom-110{
      width:calc(100% / 1.1);
      height:calc(100vh / 1.1);
      transform:scale(1.1);
      transform-origin:top center;
      margin:0 auto;
    }

    /* --- Search bar --- */
    .nt-neon{
      position:relative;
      display:flex; align-items:center; gap:.6rem;
      background:#ffffff; border-radius:12px;
      padding:.80rem .9rem .80rem .9rem;
      border:2px solid #486dffa4;
      transition:border-color .15s ease, box-shadow .15s ease;
    }
    .nt-neon:focus-within{
      border-color:#2563eb;
      box-shadow:0 0 0 3px rgba(8, 81, 240, 0.12);
    }
    .nt-neon-ico{ width:18px; height:18px; color:#64748b; flex:0 0 auto; }
    .nt-neon-input{
      flex:1; border:0; outline:0; background:transparent; color:#0f172a; font-size:14px;
      padding-right:78px;
    }
    .nt-neon-input::placeholder{ color:#94a3b8; }

    .nt-clear{
      position:absolute; right:44px; top:50%; transform:translateY(-50%);
      width:28px; height:28px; border-radius:8px; display:grid; place-items:center;
      background:#f1f5f9; color:#64748b; border:0;
    }
    .nt-clear:hover{ background:#e2e8f0; }

    .nt-filter{
      position:absolute; right:10px; top:50%; transform:translateY(-50%);
      width:28px; height:28px; border-radius:8px; display:grid; place-items:center;
      background:transparent; border:0;
    }
    .nt-filter:hover{ background:#f1f5f9; }

    /* Location selects */
    .nt-row{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; white-space:nowrap; }
    .nt-label{ font-size:0.875rem; color:#0f172a; }
    .nt-select{
      width:100%; font-size:.875rem; outline:0; transition:background-color .15s ease;
      border:none; background-color:#f7fbff; color:#334155; border-radius:8px;
      padding:.50rem 2.2rem .50rem .75rem;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%232563eb'%3E%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
      background-repeat:no-repeat;background-position:right .9rem center;background-size:1rem;
      -webkit-appearance:none; -moz-appearance:none; appearance:none;
    }
    .nt-select:hover{ background-color:#f2f7ff; }
    .nt-select:focus{ background-color:#eef5ff; }
    .nt-select-compact{ width:70%; min-width:160px; margin-left:auto; }

    /* Buttons */
    .btn{  display:inline-flex; align-items:center; justify-content:center; font-size:.875rem; font-weight:500; padding:.5rem .75rem; transition:background-color .15s ease; }
    .btn-primary{ background:#2563eb; color:#fff; padding: 10px; border-radius:8px;}
    .btn-primary:hover{ background:#1d4ed8; }
    .btn-ghost{ background:#eef5ff; color:#2563eb; padding:10px; border-radius:8px;}
    .btn-ghost:hover{ background:#dbe9ff; }

    /* Blue accent color ONLY inside the left filter card */
    .nt-left input[type="checkbox"],
    .nt-left input[type="radio"]{ accent-color:#2563eb; }

    /* === NEW: match school.html section header look === */
    .nt-hdr-accent{
      /* same visual as school.html */
      background-color:#eef5ff;
      border-left:4px solid #2563eb;
      border-radius:.375rem;
      padding:.35rem .55rem;
      font-weight:700;
      font-size:14px;
      color:#1f2937;          /* slate-800-ish */
      display:flex;
      align-items:center;
      min-height:36px;
    }
  </style>
</head>
<body class="text-ink-900 text-sm">

<header class="fixed top-0 z-50 w-full nt-glass border-b border-slate-200/70">
  <!-- container pushed in -->
  <nav class="mx-auto w-full max-w-7xl px-6 lg:px-12">

    <div class="flex items-center gap-3 py-2.5">
      <!-- BRAND -->
      <a class="select-none inline-flex items-center" href="Homepage.html">
        <img src="assets/logo.jpg" alt="NxtTurn" class="h-4 sm:h-5 w-auto object-contain" />
      </a>
      <!-- Search -->
      <div class="search-container relative ml-3 hidden md:block">
        <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2">
          <svg class="h-4 w-4 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <circle cx="11" cy="11" r="7"></circle><path d="M21 21l-4.35-4.35"></path>
          </svg>
        </span>
        <input class="w-[340px] rounded-full border border-slate-200 bg-white/80 px-9 py-2.5 text-sm text-ink-600 shadow-soft outline-none transition-all duration-300 focus:border-brand-400 focus:bg-white focus:ring-4 focus:ring-brand-500/15 placeholder:text-slate-400" placeholder="Search..." type="search"/>
      </div>

      <div class="flex-1"></div>

      <!-- ICON STRIP -->
      <div class="nav-scroller w-full md:w-auto overflow-x-auto md:overflow-visible no-scrollbar">
        <ul class="flex flex-nowrap items-end gap-0.5 sm:gap-1 md:gap-1.5 w-max pr-1">
          <!-- EXPLORE -->
          <li class="relative group before:content-[''] before:absolute before:left-0 before:right-0 before:top-full before:h-3" data-menu="explore">
            <a href="#" class="nav-btn min-w-[56px] sm:min-w-[64px] md:min-w-[70px] group relative flex flex-col items-center justify-center gap-0 focus:outline-none" aria-label="Explore" aria-haspopup="true" aria-expanded="false">
              <i class="icon fa-solid fa-compass icon-explore icon-fa" aria-hidden="true"></i>
              <span class="nav-label nav-label-explore">Explore</span>
            </a>

            <div class="menu-panel nt-scroll absolute left-1/2 z-40 mt-3 w-72 -translate-x-1/2 overflow-hidden rounded-xl bg-white shadow-soft-lg opacity-0 invisible translate-y-1 will-change-transform transition-all duration-200 md:group-hover:opacity-100 md:group-hover:visible md:group-hover:translate-y-0">
              <ul class="divide-y divide-slate-100 text-sm">
                <li>
                  <a class="menu-item hover:bg-brand-50/70" href="school.html">
                    <i class="menu-ico fa-solid fa-school"></i>
                    <span>Schools</span>
                  </a>
                </li>
                <li>
                  <a class="menu-item hover:bg-brand-50/70" href="institute.html">
                    <i class="menu-ico fa-solid fa-building-columns"></i>
                    <span>Institutes</span>
                  </a>
                </li>
                <li>
                  <a class="menu-item hover:bg-brand-50/70" href="enterprises.html">
                    <i class="menu-ico fa-solid fa-briefcase"></i>
                    <span>Enterprises</span>
                  </a>
                </li>
                <li>
                  <a class="menu-item hover:bg-brand-50/70" href="government.html">
                    <i class="menu-ico fa-solid fa-landmark"></i>
                    <span>Government Enterprises</span>
                  </a>
                </li>
                <li>
                  <a class="menu-item hover:bg-brand-50/70" href="">
                    <i class="menu-ico fa-solid fa-pen-to-square"></i>
                    <span>Exams</span>
                  </a>
                </li>
                <li class="pl-10 pr-4 py-2 flex gap-2">
                  <a class="text-[13px] px-2 py-1 rounded hover:bg-exams-light text-exams" href="mocktest.html">
                    <i class="fa-solid fa-clipboard-check mr-1"></i> Mock Test
                  </a>
                  <a class="text-[13px] px-2 py-1 rounded hover:bg-exams-light text-exams" href="examcalendar.html">
                    <i class="fa-solid fa-calendar-days mr-1"></i> Calendar
                  </a>
                </li>
                <li>
                  <a class="menu-item hover:bg-brand-50/70" href="research.html">
                    <i class="menu-ico fa-solid fa-flask"></i>
                    <span>Research</span>
                  </a>
                </li>
              </ul>
            </div>
          </li>

          <!-- SEEKERS -->
          <li class="relative group before:content-[''] before:absolute before:left-0 before:right-0 before:top-full before:h-3" data-menu="seekers">
            <a href="#" class="nav-btn min-w-[56px] sm:min-w-[64px] md:min-w-[70px] group relative flex flex-col items-center justify-center gap-0 focus:outline-none" aria-label="Seekers" aria-haspopup="true" aria-expanded="false">
              <span class="icon icon-seekers" aria-hidden="true">
                <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
              </span>
              <span class="nav-label nav-label-seekers">Seekers</span>
            </a>
            <div class="menu-panel nt-scroll absolute left-1/2 z-40 mt-3 w-72 -translate-x-1/2 overflow-hidden rounded-xl bg-white shadow-soft-lg opacity-0 invisible translate-y-1 will-change-transform transition-all duration-200 md:group-hover:opacity-100 md:group-hover:visible md:group-hover:translate-y-0">
              <ul class="divide-y divide-slate-100 text-sm">
                <li><a class="menu-item" href="internship.html"><i class="menu-ico fa-solid fa-user-graduate"></i><span>Internship</span></a></li>
                <li><a class="menu-item" href="apprenticeship.html"><i class="menu-ico fa-solid fa-helmet-safety"></i><span>Apprenticeship</span></a></li>
                <li><a class="menu-item" href="jobs.html"><i class="menu-ico fa-solid fa-briefcase"></i><span>Job</span></a></li>
                <li><a class="menu-item" href="government-openings.html"><i class="menu-ico fa-solid fa-building-flag"></i><span>Government Openings</span></a></li>
                <li><a class="menu-item" href="international-government-openings.html"><i class="menu-ico fa-solid fa-earth-asia"></i><span>International Govt. Openings</span></a></li>
                <li><a class="menu-item" href="freelances.html"><i class="menu-ico fa-solid fa-laptop-code"></i><span>Freelances</span></a></li>
              </ul>
            </div>
          </li>

          <!-- MY NETWORK -->
          <li>
            <a href="mynetwork.html" class="nav-btn min-w-[56px] sm:min-w-[64px] md:min-w-[70px] group relative flex flex-col items-center justify-center gap-0 focus:outline-none" aria-label="My Network">
              <span class="icon icon-network" aria-hidden="true">
                <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
              </svg>
              </span>
              <span class="nav-label nav-label-network">Network</span>
            </a>
          </li>

          <!-- MESSAGING -->
          <li class="relative">
            <a href="messages.html" class="nav-btn min-w-[56px] sm:min-w-[64px] md:min-w-[70px] group relative flex flex-col items-center justify-center gap-0 focus:outline-none" aria-label="Messaging">
              <span class="icon icon-messages" aria-hidden="true">
                <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                </svg>
              </span>
              <span class="nav-label nav-label-messages">Messages</span>
              <span class="notification-badge">3</span>
            </a>
          </li>

          <!-- NOTIFICATIONS -->
          <li class="relative">
            <a href="notification.html" class="nav-btn min-w-[56px] sm:min-w-[64px] md:min-w-[70px] group relative flex flex-col items-center justify-center gap-0 focus:outline-none" aria-label="Notifications">
              <span class="icon icon-notifications" aria-hidden="true">
                <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                </svg>
              </span>
              <span class="nav-label nav-label-notifications">Alerts</span>
              <span class="notification-badge">12</span>
            </a>
          </li>

          <li class="mx-1 hidden h-6 w-px bg-slate-200 md:block"></li>

          <!-- PROFILE (nudged up) -->
          <li class="relative">
            <button id="profileBtn"
              class="flex items-center gap-2 rounded-xl px-2.5 py-1.5 text-sm font-medium text-ink-700
                     hover:bg-white hover:shadow-soft hover:ring-1 hover:ring-slate-200
                     focus:outline-none transition-all duration-200
                     -translate-y-0.5 sm:-translate-y-1">
              <div class="relative -mt-0.5 sm:-mt-1">
                <img src="https://i.pravatar.cc/40?img=5" class="h-8 w-8 rounded-full object-cover ring-2 ring-white" alt="Profile"/>
                <span class="absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full bg-green-500 ring-2 ring-white"></span>
              </div>
              <span class="hidden sm:inline">Profile</span>
              <svg id="profileChevron" class="h-4 w-4 text-slate-600 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>

            <div id="profileMenu" class="invisible absolute right-0 mt-2 w-72 origin-top-right rounded-xl bg-white shadow-soft-lg border border-slate-100 opacity-0 transition-all duration-200 scale-95">
              
              <div class="p-4 border-b border-slate-100">
              <a href="profile.html" target="_self"
                class="block p-4 border-b border-slate-100 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-brand-500 rounded-t-xl"
                id="profileHeaderLink">
                <div class="flex items-center gap-3">
                <img src="https://i.pravatar.cc/40?img=5" class="h-10 w-10 rounded-full object-cover" alt="Profile"/>
              <div>
                <p class="font-medium text-ink-900">Alex Morgan</p>
                <p class="text-xs text-slate-500">Premium Member</p>
              </div>
              </div>
                </a>
              </div>

              <ul class="py-2 text-sm" role="menu" aria-label="Profile menu">
                <li><a class="menu-item" role="menuitem" href="settings.html"><i class="menu-ico fa-solid fa-user-gear"></i><span>Settings &amp; Privacy</span></a></li>
                <li><a class="menu-item" role="menuitem" href="help.html"><i class="menu-ico fa-solid fa-circle-question"></i><span>Help &amp; Support</span></a></li>
                <li><a class="menu-item" role="menuitem" href="display.html"><i class="menu-ico fa-solid fa-display"></i><span>Display &amp; Accessibility</span></a></li>
                <li><a class="menu-item" role="menuitem" href="feedback.html"><i class="menu-ico fa-solid fa-comment-dots"></i><span>Give Feedback</span></a></li>
                <li><a class="menu-item" role="menuitem" href="games.html"><i class="menu-ico fa-solid fa-gamepad"></i><span>Games</span></a></li>
                <li class="px-4">
                  <button id="themeRow" type="button" class="w-full flex items-center justify-between py-2.5" role="menuitem" aria-pressed="false">
                    <span class="flex items-center gap-3">
                      <i class="menu-ico fa-solid fa-moon"></i><span>Dark Mode</span>
                    </span>
                    <span class="flex items-center gap-2">
                      <input id="themeToggle" class="toggle-input sr-only" type="checkbox" aria-label="Toggle dark mode"/>
                      <span class="toggle" aria-hidden="true"></span>
                    </span>
                  </button>
                </li>
                <li class="border-t border-slate-100 mt-2">
                  <a class="menu-item text-rose-600 hover:bg-rose-50/70" role="menuitem" href="login.html">
                    <i class="menu-ico fa-solid fa-arrow-right-from-bracket"></i><span>Log Out</span>
                  </a>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>


  <div class="page-zoom-110">
    <main class="max-w-6xl mx-auto grid grid-cols-12 gap-6 h-full px-4 pt-6 pb-0">

      <!-- Left: Filters -->
      <aside class="col-span-12 md:col-span-3 h-full overflow-auto nt-scroll">
        <div class="sticky top-0 z-10 mb-2">
          <div class="bg-gradient-to-r from-brand-700 to-brand-500 text-white font-semibold px-5 h-12 flex items-center rounded-xl text-base">
            Filters
          </div>
        </div>

        <div class="bg-white rounded-xl p-4 border border-slate-200 nt-left">
          <!-- SEARCH BAR -->
          <div class="mb-4">
            <div class="nt-neon">
              <svg class="nt-neon-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <circle cx="11" cy="11" r="7"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
              <input id="q" type="search" placeholder="Search Institutions..." autocomplete="off" class="nt-neon-input"/>
              <button id="clearQ" type="button" class="nt-clear hidden" title="Clear">√ó</button>
              <button id="openFilters" type="button" class="nt-filter" title="Filters">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#486dffa4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <path d="M3 5h18l-7 8v5l-4 2v-7L3 5z"></path>
                </svg>
              </button>
            </div>
          </div>

          <!-- Location -->
          <div id="locationBlock" class="mb-3">
            <div class="nt-hdr-accent select-none">Location</div>
            <div class="px-3 pt-2 pb-3 space-y-3">
              <div class="nt-row">
                <label class="nt-label" for="country">Country</label>
                <select id="country" class="nt-select nt-select-compact">
                  <option value="">Select Country</option>
                  <option value="India">India</option>
                  <option value="United States">United States</option>
                  <option value="United Kingdom">United Kingdom</option>
                  <option value="Australia">Australia</option>
                  <option value="Canada">Canada</option>
                </select>
              </div>
              <div class="nt-row">
                <label class="nt-label" for="state">State</label>
                <select id="state" class="nt-select nt-select-compact">
                  <option value="">Select State</option>
                  <option value="Maharashtra">Maharashtra</option>
                  <option value="Delhi NCR">Delhi NCR</option>
                  <option value="Karnataka">Karnataka</option>
                  <option value="Tamil Nadu">Tamil Nadu</option>
                  <option value="West Bengal">West Bengal</option>
                </select>
              </div>
              <div class="nt-row">
                <label class="nt-label" for="city">City</label>
                <select id="city" class="nt-select nt-select-compact">
                  <option value="">Select City</option>
                  <option value="Mumbai">Mumbai</option>
                  <option value="Delhi">Delhi</option>
                  <option value="Pune">Pune</option>
                  <option value="Chennai">Chennai</option>
                  <option value="Kolkata">Kolkata</option>
                  <option value="Bengaluru">Bengaluru</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Type -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Type</summary>
            <div class="px-3 pt-2 pb-3 grid grid-cols-1 gap-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-type" value="University">University</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-type" value="College">College</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-type" value="Institute">Institute</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-type" value="Training Center">Training Center</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-type" value="Research">Research</label>
            </div>
          </details>

          <!-- Ownership -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Ownership</summary>
            <div class="px-3 pt-2 pb-3 space-y-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-owner" value="Public">Public</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-owner" value="Private">Private</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-owner" value="Deemed">Deemed</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-owner" value="Autonomous">Autonomous</label>
            </div>
          </details>

          <!-- Affiliation & Accreditation -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Affiliation & Accreditation</summary>
            <div class="px-3 pt-2 pb-3 grid grid-cols-1 gap-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-affil" value="UGC">UGC</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-affil" value="AICTE">AICTE</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-affil" value="NAAC A++">NAAC A++</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-affil" value="NAAC A+">NAAC A+</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-affil" value="NBA">NBA</label>
            </div>
          </details>

          <!-- Streams / Programs -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Streams / Programs</summary>
            <div class="px-3 pt-2 pb-3 grid grid-cols-1 gap-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-stream" value="Engineering">Engineering</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-stream" value="Medical">Medical</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-stream" value="Management">Management</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-stream" value="Arts">Arts</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-stream" value="Science">Science</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-stream" value="Law">Law</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-stream" value="Pharmacy">Pharmacy</label>
            </div>
          </details>

          <!-- Mode -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Mode</summary>
            <div class="px-3 pt-2 pb-3 space-y-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-mode" value="On-campus">On-campus</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-mode" value="Online/Distance">Online/Distance</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-mode" value="Hybrid">Hybrid</label>
            </div>
          </details>

          <!-- Fees -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Fees (per year)</summary>
            <div class="px-3 pt-2 pb-3 grid grid-cols-1 gap-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="radio" name="fees" class="flt flt-fees" value="<=100000">Up to ‚Çπ1L</label>
              <label class="flex items-center gap-2"><input type="radio" name="fees" class="flt flt-fees" value="100000-300000">‚Çπ1L‚Äì3L</label>
              <label class="flex items-center gap-2"><input type="radio" name="fees" class="flt flt-fees" value="300000-600000">‚Çπ3L‚Äì6L</label>
              <label class="flex items-center gap-2"><input type="radio" name="fees" class="flt flt-fees" value=">600000">Above ‚Çπ6L</label>
              <label class="flex items-center gap-2"><input type="radio" name="fees" value="" checked>Any</label>
            </div>
          </details>

          <!-- Intake Size -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Intake Size</summary>
            <div class="px-3 pt-2 pb-3 grid grid-cols-1 gap-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-intake" value="<=500">‚â§ 500</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-intake" value="500-1500">500‚Äì1500</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-intake" value=">1500">> 1500</label>
            </div>
          </details>

          <!-- Facilities -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Facilities</summary>
            <div class="px-3 pt-2 pb-3 grid grid-cols-1 gap-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-fac" value="Hostel">Hostel</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-fac" value="Library">Library</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-fac" value="Sports">Sports</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-fac" value="Labs">Labs</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-fac" value="Placement Cell">Placement Cell</label>
            </div>
          </details>

          <!-- Admission Exams -->
          <details class="nt-group mb-3" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Admission Exams</summary>
            <div class="px-3 pt-2 pb-3 grid grid-cols-1 gap-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-exam" value="CUET">CUET</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-exam" value="JEE">JEE</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-exam" value="NEET">NEET</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-exam" value="GATE">GATE</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-exam" value="CAT">CAT</label>
            </div>
          </details>

          <!-- Scholarships -->
          <details class="nt-group mb-4" open>
            <summary class="nt-hdr-accent cursor-pointer select-none">Scholarships</summary>
            <div class="px-3 pt-2 pb-3 space-y-1 text-ink-600 text-xs">
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-sch" value="Merit">Merit-based</label>
              <label class="flex items-center gap-2"><input type="checkbox" class="flt flt-sch" value="Need">Need-based</label>
            </div>
          </details>

          <!-- Buttons -->
          <div class="flex justify-end gap-2 pt-1">
            <button id="resetBtn" class="btn btn-ghost btn-sq">Reset</button>
            <button id="applyBtn" class="btn btn-primary btn-sq">Apply Filters</button>
          </div>
        </div>
      </aside>

      <!-- Middle: Results -->
      <section class="col-span-12 md:col-span-6 h-full overflow-auto nt-scroll">
        <div class="sticky top-0 z-10 mb-2">
          <div class="bg-gradient-to-r from-brand-700 to-brand-500 text-white font-semibold px-5 h-12 flex items-center rounded-xl text-base">
            Institutions
          </div>
        </div>
        <div id="chips" class="flex flex-wrap gap-2"></div>
        <div id="results" class="space-y-4"></div>
      </section>

      <!-- Right: Sidebar cards -->
      <aside class="col-span-12 md:col-span-3 h-full overflow-auto nt-scroll">
        <div class="bg-white rounded-xl p-4 mb-4 border border-slate-200">
          <h3 class="font-semibold mb-3 text-sm">Recommended Institutions</h3>
          <ul class="space-y-2 text-brand-700 text-xs">
            <li><a href="#" class="hover:underline">Technium University</a></li>
            <li><a href="#" class="hover:underline">Apex Business School</a></li>
            <li><a href="#" class="hover:underline">Lakeside Medical College</a></li>
          </ul>
        </div>
        <div class="bg-white rounded-xl p-4 border border-slate-200">
          <h3 class="font-semibold mb-3 text-sm">Sponsored</h3>
          <div class="aspect-[16/9] rounded-lg bg-brand-100 grid place-content-center text-brand-700 font-semibold text-sm">AD ‚Ä¢ Exam Prep</div>
          <p class="text-xs text-ink-500 mt-2">Top courses for JEE/NEET/CAT & more.</p>
        </div>
      </aside>

    </main>
  </div>

  <script>

    function showPanel(li){
    const p=li.querySelector('.menu-panel'); if(!p) return;
    p.classList.remove('invisible','opacity-0','translate-y-1');
    p.classList.add('visible','opacity-100','translate-y-0');
    li.classList.add('open');
    const btn=li.querySelector('.nav-btn'); btn?.setAttribute('aria-expanded','true');
  }
  function hidePanel(li){
    const p=li.querySelector('.menu-panel'); if(!p) return;
    p.classList.remove('visible','opacity-100','translate-y-0');
    p.classList.add('invisible','opacity-0','translate-y-1');
    li.classList.remove('open');
    const btn=li.querySelector('.nav-btn'); btn?.setAttribute('aria-expanded','false');
  }
  function togglePanel(li){
    if(li.classList.contains('open')){ hidePanel(li) }
    else{
      document.querySelectorAll('li[data-menu].open').forEach(o=>{ if(o!==li) hidePanel(o) });
      showPanel(li);
    }
  }

  function toggleProfileMenu(){
    const menu=document.getElementById('profileMenu');
    const chevron=document.getElementById('profileChevron');
    const isExpanded=menu.classList.contains('visible');
    if(isExpanded){
      menu.classList.remove('visible','opacity-100','scale-100');
      menu.classList.add('invisible','opacity-0','scale-95');
      chevron.classList.remove('rotate-180');
    }else{
      menu.classList.remove('invisible','opacity-0','scale-95');
      menu.classList.add('visible','opacity-100','scale-100');
      chevron.classList.add('rotate-180');
    }
    document.getElementById('profileBtn').setAttribute('aria-expanded', !isExpanded);
  }

  function setupThemeToggle(){
    const toggle=document.getElementById('themeToggle');
    const themeRow=document.getElementById('themeRow');
    const prefersDark=window.matchMedia('(prefers-color-scheme: dark)').matches;
    const storedTheme=localStorage.getItem('theme');
    if(storedTheme==='dark'||(!storedTheme&&prefersDark)){
      document.documentElement.classList.add('dark'); toggle.checked=true;
    }else{
      document.documentElement.classList.remove('dark'); toggle.checked=false;
    }
    toggle.addEventListener('change',function(){
      if(this.checked){ document.documentElement.classList.add('dark'); localStorage.setItem('theme','dark'); }
      else{ document.documentElement.classList.remove('dark'); localStorage.setItem('theme','light'); }
    });
    themeRow.addEventListener('click',function(e){ if(e.target!==toggle){ toggle.click() }});
  }

  function setupClickOutside(){
    document.addEventListener('click',function(e){
      document.querySelectorAll('li[data-menu].open').forEach(li=>{ if(!li.contains(e.target)) hidePanel(li) });
      const profileMenu=document.getElementById('profileMenu');
      const profileBtn=document.getElementById('profileBtn');
      if(profileMenu.classList.contains('visible') && !profileMenu.contains(e.target) && !profileBtn.contains(e.target)){ toggleProfileMenu() }
    });
  }

  function setupMobileBehavior(){
    const menuItems=document.querySelectorAll('li[data-menu]');
    menuItems.forEach(li=>{
      const link=li.querySelector('a');
      link.addEventListener('click',function(e){
        if(window.innerWidth<768){ e.preventDefault(); togglePanel(li) }
      });
    });
  }

  document.addEventListener('DOMContentLoaded',function(){
    setupThemeToggle();
    setupClickOutside();
    setupMobileBehavior();
    document.getElementById('profileBtn').addEventListener('click',function(e){ e.stopPropagation(); toggleProfileMenu() });
    document.getElementById('profileChevron').classList.add('transition-transform','duration-200');
    document.addEventListener('keydown',function(e){
      if(e.key==='Escape'){
        const profileMenu=document.getElementById('profileMenu');
        if(profileMenu.classList.contains('visible')) toggleProfileMenu();
      }
    });
  });
    // --- Mock data ---
    const INSTITUTIONS = [
      { name:'Indian Institute of Technology Bombay', city:'Mumbai', type:'University', owner:'Public', affil:['UGC','AICTE','NBA'], streams:['Engineering','Science'], mode:'On-campus', fees:300000, intake:1200, facilities:['Hostel','Library','Labs','Sports','Placement Cell'], exams:['JEE','GATE'], ctc:2200000, scholarships:['Merit'] },
      { name:'National Institute of Fashion Technology', city:'Delhi', type:'Institute', owner:'Public', affil:['UGC'], streams:['Arts'], mode:'On-campus', fees:240000, intake:800, facilities:['Hostel','Library','Labs','Placement Cell'], exams:['CUET'], ctc:800000, scholarships:['Merit','Need'] },
      { name:'Symbiosis International University', city:'Pune', type:'University', owner:'Private', affil:['UGC','NAAC A+'], streams:['Management','Law','Arts'], mode:'Hybrid', fees:550000, intake:2000, facilities:['Hostel','Library','Sports','Placement Cell'], exams:['CUET','CAT'], ctc:1200000, scholarships:['Merit'] },
      { name:'St. Xavier‚Äôs College', city:'Mumbai', type:'College', owner:'Autonomous', affil:['UGC','NAAC A++'], streams:['Arts','Science','Management'], mode:'On-campus', fees:90000, intake:1400, facilities:['Library','Sports','Placement Cell'], exams:['CUET'], ctc:600000, scholarships:['Need'] },
      { name:'Vellore Institute of Technology', city:'Chennai', type:'University', owner:'Private', affil:['UGC','AICTE','NAAC A++'], streams:['Engineering','Management','Science'], mode:'On-campus', fees:350000, intake:2500, facilities:['Hostel','Library','Labs','Sports','Placement Cell'], exams:['JEE','GATE','CAT'], ctc:1000000, scholarships:['Merit'] },
      { name:'Indian Institute of Management Kolkata', city:'Kolkata', type:'Institute', owner:'Public', affil:['UGC'], streams:['Management'], mode:'On-campus', fees:2300000, intake:600, facilities:['Hostel','Library','Sports','Placement Cell'], exams:['CAT'], ctc:3300000, scholarships:['Merit','Need'] },
      { name:'Manipal College of Medical Sciences', city:'Bengaluru', type:'College', owner:'Private', affil:['UGC','NAAC A+'], streams:['Medical'], mode:'On-campus', fees:1200000, intake:900, facilities:['Hostel','Library','Labs','Placement Cell'], exams:['NEET'], ctc:1100000, scholarships:['Need'] },
      { name:'OpenLearn University', city:'Online', type:'University', owner:'Private', affil:['UGC'], streams:['Management','Arts','Science'], mode:'Online/Distance', fees:60000, intake:5000, facilities:['Library'], exams:['CUET'], ctc:400000, scholarships:['Need'] },
    ];

    // --- Helpers ---
    const $ = (q,root=document)=>root.querySelector(q);
    const $$ = (q,root=document)=>[...root.querySelectorAll(q)];
    function getCheckedVals(cls){ return $$('.'+cls+':checked').map(i=>i.value); }

    // Card UI (Visit Page now clickable)
    function card(inst){
      return `
      <article class="bg-white rounded-xl p-4 border border-slate-200">
        <div class="flex items-start gap-3">
          <div class="w-10 h-10 rounded-full bg-brand-100 grid place-content-center text-brand-700 font-semibold text-sm">üè´</div>
          <div class="flex-1">
            <h3 class="text-base font-semibold">${inst.name}</h3>
            <p class="text-ink-500 text-xs">${inst.city} ‚Ä¢ ${inst.type} ‚Ä¢ ${inst.owner}</p>
            <p class="text-ink-600 mt-2 text-xs">Streams: ${inst.streams.join(', ')} ‚Ä¢ Mode: ${inst.mode}</p>
            <p class="text-ink-600 text-xs">Affiliation: ${inst.affil.join(', ')}</p>
            <p class="text-ink-600 text-xs">Facilities: ${inst.facilities.join(', ')}</p>
            <div class="mt-3 flex items-center gap-3">
              <span class="inline-flex items-center text-xs px-2 py-1 rounded-full bg-brand-50 text-brand-700">Fees ~ ‚Çπ${(inst.fees/100000).toFixed(1)}L/yr</span>
              <span class="inline-flex items-center text-xs px-2 py-1 rounded-full bg-slate-50 text-ink-600">Avg CTC ‚Çπ${Math.round(inst.ctc/100000)/10}M</span>
              <a href="visitpage.html?name=${encodeURIComponent(inst.name)}" class="ml-auto bg-brand-600 hover:bg-brand-700 text-white text-xs px-3 py-1.5 rounded-lg" role="button" aria-label="Visit ${inst.name} page">Visit Page</a>
            </div>
          </div>
        </div>
      </article>`;
    }

    function render(list){
      const wrap = $('#results');
      if(!list.length){ wrap.innerHTML = `<div class="text-ink-500 text-sm">No results match your filters.</div>`; return; }
      wrap.innerHTML = list.map(card).join('');
    }

    // Chip UI
    function updateChips(filters){
      const wrap = $('#chips');
      const chips=[];
      function push(label, vals){
        vals.filter(v=>v!=='' && v!=null).forEach(v=>{
          const key = `${label}:${v}`;
          chips.push(`<button data-key="${key}" class="chip inline-flex items-center gap-1 bg-slate-100 text-ink-600 px-2.5 py-1 rounded-full text-xs hover:bg-slate-200">${label}: ${v}<span class="text-ink-500">‚úï</span></button>`);
        });
      }

      push('City', [filters.city]);
      push('Type', filters.types);
      push('Ownership', filters.owners);
      push('Affil', filters.affil);
      push('Stream', filters.streams);
      push('Mode', filters.modes);
      push('Fees', [filters.feesRule]);
      push('Intake', filters.intake);
      push('Exam', filters.exams);
      push('Scholarship', filters.sch);
      if(filters.q) chips.push(`<button data-key="q" class="chip inline-flex items-center gap-1 bg-slate-100 text-ink-600 px-2.5 py-1 rounded-full text-xs hover:bg-slate-200">Search: ‚Äú${filters.q}‚Äù <span class="text-ink-500">‚úï</span></button>`);
      wrap.innerHTML = chips.join('');

      document.querySelectorAll('.chip').forEach(b=>{
        b.addEventListener('click', ()=>{
          const key=b.dataset.key;
          if(key==='q'){ $('#q').value=''; apply(); return; }
          const [label,val]=key.split(':');
          const map = {
            'Type':'.flt-type', 'Ownership':'.flt-owner',
            'Affil':'.flt-affil','Stream':'.flt-stream','Mode':'.flt-mode',
            'Intake':'.flt-intake','Exam':'.flt-exam','Scholarship':'.flt-sch'
          };
          if(label==='Fees'){ document.querySelectorAll('.flt-fees').forEach(r=>r.checked = r.value===''); }
          else if(label==='City'){ $('#city').value=''; }
          else{
            document.querySelectorAll(map[label]).forEach(c=>{ if(c.value===val) c.checked=false; });
          }
          apply();
        });
      });
    }

    function apply(){
      const filters = {
        q: $('#q').value.trim().toLowerCase(),
        country: $('#country')?.value || '',
        state: $('#state')?.value || '',
        city: $('#city')?.value || '',
        types: getCheckedVals('flt-type'),
        owners: getCheckedVals('flt-owner'),
        affil: getCheckedVals('flt-affil'),
        streams: getCheckedVals('flt-stream'),
        modes: getCheckedVals('flt-mode'),
        feesRule: (document.querySelector('.flt-fees:checked')||{}).value || '',
        intake: getCheckedVals('flt-intake'),
        exams: getCheckedVals('flt-exam'),
        sch: getCheckedVals('flt-sch'),
        ctcRule: (document.querySelector('.flt-ctc:checked')||{}).value || '',
      };

      const matchesAny = (v, arr)=>!arr.length || arr.includes(v);
      const matchesOverlap = (arr, selected)=>!selected.length || selected.some(v=>arr.includes(v));

      const feesPass = (i, rule)=>{
        if(!rule) return true;
        if(rule.startsWith('<=')) return i.fees <= +rule.slice(2);
        if(rule.startsWith('>'))  return i.fees >  +rule.slice(1);
        const [a,b]=rule.split('-').map(Number); return i.fees>=a && i.fees<=b;
      };
      const intakePass = (i, buckets)=>!buckets.length || buckets.some(b=>{
        if(b==='<=500') return i.intake<=500;
        if(b==='500-1500') return i.intake>=500 && i.intake<=1500;
        if(b==='>1500') return i.intake>1500;
      });
      const ctcPass = (i, rule)=>!rule || i.ctc >= +rule.replace('>=','');

      let out = INSTITUTIONS.filter(i=>{
        const qOk = !filters.q || i.name.toLowerCase().includes(filters.q);
        const cityOk = !filters.city || i.city === filters.city;
        const typeOk = matchesAny(i.type, filters.types);
        const ownOk = matchesAny(i.owner, filters.owners);
        const affOk = matchesOverlap(i.affil, filters.affil);
        const streamOk = matchesOverlap(i.streams, filters.streams);
        const modeOk = matchesAny(i.mode, filters.modes);
        const feesOk = feesPass(i, filters.feesRule);
        const intakeOk = intakePass(i, filters.intake);
        const examOk = matchesOverlap(i.exams, filters.exams);
        const schOk = matchesOverlap(i.scholarships, filters.sch);
        const ctcOk = ctcPass(i, filters.ctcRule);
        return qOk && cityOk && typeOk && ownOk && affOk && streamOk && modeOk && feesOk && intakeOk && examOk && schOk && ctcOk;
      });

      updateChips(filters);
      render(out);
    }

    // Search bar interactions
    const qEl = document.getElementById('q');
    const clearBtn = document.getElementById('clearQ');
    const funnelBtn = document.getElementById('openFilters');

    function syncClear(){ clearBtn.classList.toggle('hidden', qEl.value.length===0); }
    qEl.addEventListener('input', ()=>{ syncClear(); apply(); });
    clearBtn.addEventListener('click', ()=>{ qEl.value=''; qEl.focus(); syncClear(); apply(); });
    funnelBtn.addEventListener('click', ()=>{
      document.getElementById('locationBlock')?.scrollIntoView({behavior:'smooth', block:'start'});
    });

    // Other events
    document.getElementById('applyBtn').addEventListener('click', apply);
    ['country','state','city'].forEach(id=>{
      const el = document.getElementById(id);
      el && el.addEventListener('change', apply);
    });
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      qEl.value=''; syncClear();
      ['country','state','city'].forEach(id=>{ const el=document.getElementById(id); if(el) el.value=''; });
      document.querySelectorAll('.flt').forEach(el=>{ if(el.type==='checkbox') el.checked=false; });
      document.querySelectorAll('.flt-fees').forEach(r=>r.checked = r.value==='');
      document.querySelectorAll('.flt-ctc').forEach(r=>r.checked = r.value==='');
      apply();
    });

    syncClear();
    apply();
  </script>
</body>
</html>
